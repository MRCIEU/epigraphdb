# EpiGraphDB: A database and data mining platform for health data science

<a href="http://epigraphdb.org" target="_blank"><img src="assets/epigraphdb-logo.svg" alt="" height="40" style="padding:5px"/></a>
<a href="http://bristol.ac.uk" target="_blank"><img src="assets/uob.svg" alt="" height="40" style="padding:5px"/></a>
<a href="http://www.bris.ac.uk/ieu" target="_blank"><img src="assets/mrc-ieu-logo.png" alt="" height="40" style="padding:5px"/></a>
![Twitter Follow](https://img.shields.io/twitter/follow/epigraphdb?style=social)
[![Ask Me Anything !](https://img.shields.io/badge/Ask%20me-anything-1abc9c.svg)](https://github.com/MRCIEU/epigraphdb/issues)

<a href="http://epigraphdb.org" target="_blank"><img alt="" src="assets/web-ui.jpeg" height="300"/></a>
<a href="http://docs.epigraphdb.org" target="_blank"><img alt="" src="assets/gallery.png" height="300"/></a>

[EpiGraphDB](http://epigraphdb.org)
is an analytical platform and database to support data mining in epidemiology.
The platform incorporates a graph of causal estimates generated by systematically applying Mendelian randomization to a wide array of phenotypes, and augments this with a wealth of additional data from other bioinformatic sources.
EpiGraphDB aims to support appropriate application and interpretation of causal inference in systematic automated analyses of many phenotypes.

This repository contains example use cases to demonstrate the functionalities of EpiGraphDB,
via the API using Jupyter notebooks in Python.
The following table lists the main components of EpiGraphDB and their sources.

<table class="table">
  <thead>
    <tr class="header">
      <th>EpiGraphDB Component</th>
      <th>Source</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="#">Data integration pipeline</a></td>
      <td>-</td>
    </tr>
    <tr>
      <td><a href="http://epigraphdb.org">Web UI</a></td>
      <td>-</td>
    </tr>
    <tr>
      <td><a href="http://api.epigraphdb.org">API</a></td>
      <td>-</td>
    </tr>
    <tr>
      <td><a href="https://mrcieu.github.io/epigraphdb-r">R package</a></td>
      <td><a href="https://github.com/MRCIEU/epigraphdb-r">Github</a></td>
    </tr>
    <tr>
      <td><a href="http://github.com/MRCIEU/epigraphdb">Example use cases (this repo)</a></td>
      <td><a href="http://github.com/MRCIEU/epigraphdb">Github (this repo)</a></td>
    </tr>
  </tbody>
</table>
*We will gradually open source our components in the future months.

## Example use cases

Below are the example use case notebooks.
You can either use
[Google Colab](#)
or
[Binder](#)
to play with these notebooks, or clone the repo and [set up](#set-up) a local Jupyter lab environment.

<table class="table">
  <tbody>
    <tr>
      <td>
      <strong><a href="paper-case-studies">Case studies for the EpiGraphDB paper</a></strong>
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td><a href="paper-case-studies/case-1-pleiotropy.ipynb">
        Case study 1: Distinguishing vertical and horizontal pleiotropy for SNP-protein associations
      </a></td>
      <td>Colab</td>
      <td>Binder</td>
    </tr>
    <tr>
      <td><a href="paper-case-studies/case-2-alt-drug-target.ipynb">
        Case study 2: Identification of potential drug targets
      </a></td>
      <td>Colab</td>
      <td>Binder</td>
    </tr>
    <tr>
      <td><a href="paper-case-studies/case-3-literature-triangulation.ipynb">
        Case study 3: Triangulating causal estimates with literature evidence
      </a></td>
      <td>Colab</td>
      <td>Binder</td>
    </tr>
    <tr>
      <td>
      <strong><a href="general-examples">General examples</a></strong>
      </td>
      <td>
      </td>
      <td>
      </td>
    </tr>
    <tr>
      <td><a href="general-examples/epigraphdb-platform.ipynb">
        Functionalities in getting metadata, entity search, and using Cypher queires
      </a></td>
      <td>Colab</td>
      <td>Binder</td>
    </tr>
  </tbody>
</table>

The example notebooks above are done in Python using the EpiGraphDB API.
R users can visit the package vignettes (stay tuned!) for equivalent functionalities using the `epigraphdb` R package.

### Set up

We provide a
[conda](https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html)
environment
[configuration file](environment.yml)
for readers to run the notebooks locally.

To do this first you will need to install
[conda](https://docs.conda.io/projects/conda/en/latest/user-guide/install/index.html).
Then follow the steps below to set up the conda environment.

```shell
# Bootstrap the environment
conda env create -f environment.yml

# Activate the environment in your shell session.
conda activate epigraphdb-notebooks

# Open Jupyter lab and you should be able to run the code examples!
jupyter lab
```

## Citation

Please cite EpiGraphDB as

> Yi Liu, Benjamin Elsworth, Pau Erola, Valeriia Haberland, Gibran Hemani, Matt Lyon, Jie Zheng, Tom R Gaunt. *EpiGraphDB: A database and data mining platform for health data science*. http://epigraphdb.org

```
@article {epigraphdb2020,
  author = {Liu, Yi and Elsworth, Benjamin and Erola, Pau and Haberland, Valeriia and Hemani, Gibran and Lyon, Matt and Zheng, Jie and Gaunt, Tom R},
  title = {{EpiGraphDB}: A database and data mining platform for health data science},
  url = {http://epigraphdb.org}
}
```

## Contact

Please get in touch with us for issues, comments, suggestions, etc. via the following methods:

- [The issue tracker on the repo](https://github.com/MRCIEU/epigraphdb/issues)
- [The support email](mailto:feedback@epigraphdb.org)
- [The EpiGraphDB twitter](https://twitter.com/epigraphdb)
